var quform=function(i,e,n,t){"use strict";var o,s=i.core,c=s.cache,f=e(document),r=!1;return e((o={init:function(){c.get("#qfb-entry-show-empty-fields").click(function(){e(this).is(":checked")?Cookies.set("qfb-show-empty-fields","1",{expires:3650}):Cookies.remove("qfb-show-empty-fields"),window.location.reload()}),c.get("#qfb-show-resend-notifications").click(function(){c.get("#qfb-resend-notifications").show()}),c.get("#qfb-resend-notifications").find(".qfb-popup-close-button, .qfb-popup-overlay").click(o.closeResendNotificationsPopup),c.get("#qfb-resend-notifications-button").click(function(){o.validateResendNotifications()&&o.resendNotifications()}),c.get("#qfb-resend-notifications-identifier-select-all").click(function(){c.get(".qfb-resend-notifications-identifier").prop("checked",this.checked)}),c.get(".qfb-resend-notifications-identifier").click(function(){c.get("#qfb-resend-notifications-identifier-select-all").prop("checked",!1)}),f.on("heartbeat-tick",function(i,e){e&&e.nonces_expired&&e.quformResendNotificationsNonce&&n.resendNotificationsNonce!==e.quformResendNotificationsNonce&&(n.resendNotificationsNonce=e.quformResendNotificationsNonce)})},closeResendNotificationsPopup:function(){c.get("#qfb-resend-notifications").hide(),o.clearValidationMessages()},getSelectedNotificationIdentifiers:function(){var i=[];return c.get(".qfb-resend-notifications-identifier").each(function(){e(this).is(":checked")&&i.push(e(this).val())}),i},clearValidationMessages:function(){c.get("#qfb-resend-notifications").find(".qfb-submission-error, .qfb-submission-success, .qfb-validation-error").remove()},validateResendNotifications:function(){if(o.clearValidationMessages(),0!==o.getSelectedNotificationIdentifiers().length)return!0;var i=c.get("#qfb-resend-notifications-identifiers");return s.addValidationError(i,t.thisFieldIsRequired),s.scrollTo(i,c.get("#qfb-resend-notifications-inner")),!1},resendNotifications:function(){r||(r=!0,c.get("#qfb-resend-notifications-loading").css({opacity:1}),e.ajax({type:"POST",url:t.ajaxUrl,data:{action:"quform_resend_notifications",_ajax_nonce:n.resendNotificationsNonce,data:JSON.stringify({eid:c.get("#qfb-resend-notifications").data("eid"),identifiers:o.getSelectedNotificationIdentifiers()})},dataType:"json"}).done(function(i){if("success"===(i=s.sanitizeResponse(i)).type)s.addSubmissionSuccess(c.get("#qfb-resend-notifications").find(".qfb-settings"),i.message);else{var t=[];i.message&&t.push(s.addSubmissionError(c.get("#qfb-resend-notifications").find(".qfb-settings"),i.message)),i.errors&&e.each(i.errors,function(i,e){var n=c.get("#"+i);s.addValidationError(n,e),t.push(n)}),t.length&&s.scrollTo(t[0],c.get("#qfb-resend-notifications-inner"))}}).fail(function(){s.scrollTo(s.addSubmissionError(c.get("#qfb-resend-notifications").find(".qfb-settings"),t.ajaxError),c.get("#qfb-resend-notifications-inner"))}).always(function(){r=!1,c.get("#qfb-resend-notifications-loading").css({opacity:0})}))}}).init),i.entries=i.entries||{},i.entries.view=o,i}(quform,jQuery,quformEntriesViewL10n,quformCoreL10n);